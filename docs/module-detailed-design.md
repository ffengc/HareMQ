# 模块详细设计

- [模块详细设计](#模块详细设计)
  - [交换机](#交换机)
  - [队列](#队列)


## 交换机

**数据**

本质：一个交换机应该有什么数据/字段。

1. 交换机名称：唯一标识
2. 交换机类型：决定了消息的转发方式。每个队列绑定中有个`binding_key`，每条消息中有个`routing_key`
   1.  直接交换：`binding_key`与`routing_key`相同，则消息放入队列
   2.  广播交换：将消息放入交换机绑定的所有队列中
   3.  主题交换：`routing_key`与多个绑定队列的`binding_key`有个匹配规则，匹配成功了则放入
3.  持久化标志：决定了当前交换机信息是否需要持久化存储
4.  自动删除标志：指的是关联了当前交换机的所有客户端都退出了，是否要自动删除交换机（暂时不实现了）
5.  交换机的其他参数：当前未使用

**操作**

本质：api/成员函数

1. 声明交换机（有则创无则用）
2. 销毁交换机：注意事项，每个交换机都会绑定一个/多个队列（意味着会有一个/多个绑定信息）。绑定信息是需要我们去处理的。
3. 获取指定名称交换机
4. 获取当前交换机数量

## 队列

**数据**

1. 队列名称：唯一的标识
2. 持久化存储表示：决定了是否将队列的信息持久化存储起来，决定了重启之后，这个队列是否存在，也决定了队列的消息是否需要持久化
3. 是否独占标志：独占表示只有客户端自己能够订阅队列消息
4. 自动删除标志：当订阅了当前队列的所有客户端退出后，是否删除队列（暂不实现）
5. 其他参数（暂未使用）

**操作**

1. 增删查
2. 获取指定队列信息
3. 获取队列数量
4. 获取所有队列名称
5. 